<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Spotify</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="./assets/css/style.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css" />
    <style>
      @media screen and (max-width: 576px) {
        body {
          background-image: linear-gradient(
            to bottom,
            #534b28,
            #534b28,
            #0a0a0a,
            #0a0a0a,
            #0a0a0a,
            #0a0a0a,
            #0a0a0a,
            #0a0a0a,
            #0a0a0a
          );
        }
      }
    </style>
  </head>

  <body>
    <!-- inizio parte centrale -->
    <main>
      <section>
        <div
          class="container-fluid position-relative"
          id="albumWrapper"
          style="background: linear-gradient(to bottom, #ffdf5f, #d8be51, #d8be51, #8d7b34)"
        >
          <div id="albumInfoWrapper" class="container-fluid pt-5">
            <div class="row pt-5">
              <div class="col-md-4 col-lg-3 align-self-end text-center text-sm-start">
                <img
                  id="albumCover"
                  src="./assets/imgs/search/image-34.jpg"
                  class="img-fluid mb-3"
                  alt="img placeholder"
                  style="
                    width: 300px;
                    box-shadow: -1px -1px 110px 9px rgba(0, 0, 0, 0.72);
                    -webkit-box-shadow: -1px -1px 110px 9px rgba(0, 0, 0, 0.72);
                    -moz-box-shadow: -1px -1px 110px 9px rgba(0, 0, 0, 0.72);
                  "
                />
              </div>
              <div class="col align-self-end">
                <p style="font-size: 1.2vw; margin: 0" class="d-none d-sm-block text-white fw-bold">ALBUM</p>
                <h1 id="albumTitle" class="mt-0 pb-4 fw-bold text-white display-2 d-none d-sm-block"></h1>
                <!-- parte visibile solo a mobile -->
                <h1 id="albumTitle" class="mt-0 text-white fw-bold d-sm-none"></h1>
                <div class="d-flex flex-wrap align-items-center mb-3">
                  <img
                    id="artistPicture"
                    src="./assets/imgs/search/image-34.jpg"
                    alt="artist placeholder"
                    style="width: 24px; height: 24px; border-radius: 50%"
                    class="me-2"
                  />
                  <a href="#" id="artistName" class="fw-bold text-decoration-none text-white"
                    >Pinguini Tattici Nucleari</a
                  >
                  <span class="text-white d-none d-sm-block">•</span>
                  <span id="year" class="text-white fw-bold d-none d-sm-block">2012</span>
                  <span class="d-lg-block text-white d-none d-sm-block">•</span>
                  <span id="numOfSongs" class="text-white d-lg-block fw-bold d-none d-sm-block">17 brani,</span>
                  <span id="durationOfTrackList" class="text-white d-lg-block d-none d-sm-block">59 min 50 sec</span>
                  <!-- parte visibile solo a mobile -->
                </div>
                <span class="d-sm-none text-secondary mb-0">
                  Album •
                  <p class="mb-0 d-inline">2017</p>
                </span>
              </div>
            </div>
          </div>
        </div>
      </section>

      <aside></aside>
      <div
        class="container-fluid mb-3"
        style="
          background-image: linear-gradient(
            to bottom,
            #534b28,
            #534b28,
            #0a0a0a,
            #0a0a0a,
            #0a0a0a,
            #0a0a0a,
            #0a0a0a,
            #0a0a0a,
            #0a0a0a
          );
        "
      >
        <div class="container-fluid">
          <div class="player d-flex justify-content-between align-items-center bg-transparent">
            <div class="d-flex align-items-center">
              <i class="bi bi-play-circle-fill d-none d-sm-block me-4" style="color: #1ed760; font-size: 50px"></i>
              <i class="bi bi-heart d-md-block ps-2 me-4 text-secondary" style="font-size: 30px"></i>
              <i class="bi bi-arrow-down-circle d-md-block me-4 text-secondary" style="font-size: 30px"></i>
              <i class="bi bi-three-dots-vertical d-sm-none text-secondary" style="font-size: 30px"></i>
              <button type="button" class="btn btn-black text-secondary fs-1 mb-4 p-0 d-none d-sm-block">...</button>
            </div>
            <div class="d-flex align-items-center">
              <i class="bi bi-shuffle me-4 d-sm-none text-secondary" style="font-size: 30px"></i>
              <i class="bi bi-play-circle-fill d-sm-none" style="color: #1ed760; font-size: 50px"></i>
            </div>
          </div>
        </div>

        <div class="container-fluid">
          <div class="d-none d-sm-block">
            <div class="row border-bottom border-secondary">
              <div class="col-1">
                <div>
                  <p class="text-secondary ms-3 d-inline">#</p>
                </div>
              </div>
              <div class="col-4 ps-0">
                <div>
                  <p class="text-secondary m-0">TITOLO</p>
                </div>
              </div>
              <div class="col-3">
                <div>
                  <p class="text-secondary text-end pe-2 mb-1">RIPRODUZIONI</p>
                </div>
              </div>
              <div class="col-4">
                <div class="d-flex justify-content-end">
                  <i class="bi bi-stopwatch text-secondary me-3 text-end"></i>
                </div>
              </div>
            </div>
          </div>

          <div id="tracksContainer"></div>
          <!-- qui ci vanno le canzoni di ogni singolo album -->
        </div>
      </div>
    </main>

    <!-- fine parte centrale -->

    <!-- inizio sidebar -->
    <!--
  <div class="container-fluid d-flex p-0 vh-100">
    <nav class="d-none d-md-block bg-black" style="min-width: 280px">
      <ul class="nav flex-column">
        <li class="nav-item">
          <a class="nav-link" href="#"><i class="bi bi-three-dots fs-3 me-3"></i> </a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="./index.html"><i class="bi bi-house-door fs-3 me-3 me-3"></i> Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="./artist.html"><i class="bi bi-search fs-3 me-3"></i> Cerca</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#"><i class="bi bi-collection fs-3 me-3"></i> La tua libreria</a>
        </li>
        <li class="nav-item mt-4">
          <a class="nav-link" href="#"><i class="bi bi-plus-square-fill fs-3 me-3"></i> Crea playlist</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#"><i class="bi bi-calendar-heart fs-3 me-3"></i> Brani che ti piacciono</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#"><i class="bi bi-bookmark-check fs-3 me-3"></i> I tuoi episodi</a>
        </li>
      </ul>
      <hr class="bg-white" />
      <div class="ps-3">
        <a href="#" class="text-decoration-none">
          <p>Ultimate Winter party</p>
        </a>
        <a href="#" class="text-decoration-none">
          <p>Caffè del Buongiorno</p>
        </a>
        <a href="#" class="text-decoration-none">
          <p>Japanese Lofi Chill</p>
        </a>
        <a href="#" class="text-decoration-none">
          <p>Positive Vibes</p>
        </a>
        <a href="#" class="text-decoration-none">
          <p>Mix Anni 2010</p>
        </a>
        <a href="#" class="text-decoration-none">
          <p>Techno Bunker</p>
        </a>
        <a href="#" class="text-decoration-none">
          <p>Happy Beats</p>
        </a>
        <a href="#" class="text-decoration-none">
          <p>Dance Hits</p>
        </a>
        <a href="#" class="text-decoration-none">
          <p>Christmas Jazz</p>
        </a>
        <a href="#" class="text-decoration-none">
          <p>Feel Good Piano</p>
        </a>
        <a href="#" class="text-decoration-none">
          <p>Energy Booster</p>
        </a>
      </div>
    </nav>
  </div>
-->
    <!-- fine sidebar -->

    <!-- inizio parte centrale -->
    <!-- 
      <div id="musicTableWrapper" class="container-fluid bg-dark">
        <section class="my-4 d-flex flex-column" id="track-artist">
          <div class="row collapse show">
            <div class="d-none d-sm-block col-12 col-sm-4 col-xl-4 bg-dark">
              <div class="text-white">
                <p class="card-text">TITOLO</p>
              </div>
            </div>
            <div class="d-none d-sm-block col-12 col-sm-4 col-xl-4 bg-dark">
              <div class="text-white">
                <div class="card-body">
                  <p class="card-text">RIPRODUZIONI</p>
                </div>
              </div>
            </div>
            <div class="d-none d-sm-block col-12 col-sm-4 col-xl-4 bg-dark">
              <div class="text-white">
                <div class="card-body">
                  <i class="bi bi-stopwatch"></i>
                </div>
              </div>
            </div>
          </div>
        </section> -->

    <!--
    <section class="my-5 d-flex flex-column" id="track-artist">
      <div class="row collapse show">
        <div class="col-12 col-sm-4 col-xl-4 bg-dark">
          <div class="text-white">
            <div class="card-body">

              <h5 class="card-text">Titolo del brano 1</h5>
              <div class="track__number">1</div>
              <p>Artista 2</p>
            </div>
          </div>
        </div>
        <div class="col-12 col-sm-4 col-xl-4 bg-dark">
          <div class="text-white">
            <div class="card-body">
              <h5 class="card-text">10000000 1</h5>
            </div>
          </div>
        </div>
        <div class="col-12 col-sm-4 col-xl-4 bg-dark">
          <div class="text-white">
            <div class="card-body">
              <h5 class="card-text">timer 1</h5>
            </div>
          </div>
        </div>
    </section>
    <section class="my-5 d-flex flex-column" id="track-artist">
      <div class="row collapse show">
        <div class="col-12 col-sm-4 col-xl-4 bg-dark">
          <div class="text-white">
            <div class="card-body">
              <h5 class="card-text">Titolo del brano 2</h5>
              <p>Artista 2</p>
            </div>
          </div>
        </div>
        <div class="col-12 col-sm-4 col-xl-4 bg-dark">
          <div class="text-white">
            <div class="card-body">
              <h5 class="card-text">10000000 2</h5>
            </div>
          </div>
        </div>
        <div class="col-12 col-sm-4 col-xl-4 bg-dark">
          <div class="text-white">
            <div class="card-body">
              <h5 class="card-text">timer 2</h5>
            </div>
          </div>
        </div>
    </section>
    <section class="my-5 d-flex flex-column" id="track-artist">
      <div class="row collapse show">
        <div class="col-12 col-sm-4 col-xl-4 bg-dark">
          <div class="text-white">
            <div class="card-body">
              <h5 class="card-text">Titolo del brano 3</h5>
              <p>Artista 3</p>
            </div>
          </div>
        </div>
        <div class="col-12 col-sm-4 col-xl-4 bg-dark">
          <div class="text-white">
            <div class="card-body">
              <h5 class="card-text">10000000 3</h5>
            </div>
          </div>
        </div>
        <div class="col-12 col-sm-4 col-xl-4 bg-dark">
          <div class="text-white">
            <div class="card-body">
              <h5 class="card-text">timer 3</h5>
            </div>
          </div>
        </div>
    </section>
    <section class="my-5 d-flex flex-column" id="track-artist">
      <div class="row collapse show">
        <div class="col-12 col-sm-4 col-xl-4 bg-dark">
          <div class="text-white">
            <div class="card-body">
              <h5 class="card-text">Titolo del brano 4</h5>
              <p>Artista 4</p>
            </div>
          </div>
        </div>
        <div class="col-12 col-sm-4 col-xl-4 bg-dark">
          <div class="text-white">
            <div class="card-body">
              <h5 class="card-text">10000000 4</h5>
            </div>
          </div>
        </div>
        <div class="col-12 col-sm-4 col-xl-4 bg-dark">
          <div class="text-white">
            <div class="card-body">
              <h5 class="card-text">timer 4</h5>
            </div>
          </div>
        </div>
    </section>
    <section class="my-5 d-flex flex-column" id="track-artist">
      <div class="row collapse show">
        <div class="col-12 col-sm-4 col-xl-4 bg-dark">
          <div class="text-white">
            <div class="card-body">
              <h5 class="card-text">Titolo del brano 5</h5>
              <p>Artista 5</p>
            </div>
          </div>
        </div>
        <div class="col-12 col-sm-4 col-xl-4 bg-dark">
          <div class="text-white">
            <div class="card-body">
              <h5 class="card-text">10000000 5</h5>
            </div>
          </div>
        </div>
        <div class="col-12 col-sm-4 col-xl-4 bg-dark">
          <div class="text-white">
            <div class="card-body">
              <h5 class="card-text">timer 5</h5>
            </div>
          </div>
        </div>
    </section>
  </main>
  -->
    <!-- fine parte centrale -->

    <!-- offcanvas -->
    <!--
  <button id="friendActivityButton" class="btn btn-dark bg-black circle position-absolute" type="button"
    data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" aria-controls="offcanvasRight">
    <i class="bi bi-people-fill"></i>
  </button>

  <div class="offcanvas offcanvas-end bg-black text-white" tabindex="-1" id="offcanvasRight"
    aria-labelledby="offcanvasRightLabel" aria-modal="true" role="dialog">
    <div class="offcanvas-header">
      <h5 id="offcanvasRightLabel" class="fs-6 fw-bold">Attività amici</h5>
      <div>
        <button type="button" class="btn circle fs-6 text-secondary" aria-label="add friend">
          <i class="bi bi-person-add"></i>
        </button>
        <button type="button" class="btn circle fs-6 text-secondary" data-bs-dismiss="offcanvas" aria-label="Close">
          <i class="bi bi-x-lg"></i>
        </button>
      </div>
    </div>
    <div class="offcanvas-body" id="friendsActivity">
      <div class="container-fluid mb-4">
        <div class="row">
          <div class="col-2">
            <a href="#"><img src="./assets/imgs/profilo/fra_lobbia.jpeg" alt="friend's image"
                class="circle img-fluid" /></a>
          </div>
          <div class="col-7 text-truncate">
            <a href="#">
              <p class="m-0 fw-bold fw-bolder">Fra Lobbia</p>
            </a>
            <p class="m-0">
              <a href=""><span>Zombie</span></a>
              <i class="bi bi-dot"></i>
              <a href=""><span>Cranberries</span></a>
            </p>
            <p class="m-0 fs-6">
              <a href="">
                <i class="bi bi-disc"></i>
                <span class="text-truncate">No Need To Argue (The Complete Sessions 1994-1995)</span></a>
            </p>
          </div>
          <div class="col-3">
            <p class="m-0 fs-6 text-secondary">2 min</p>
          </div>
        </div>
      </div>

      <div class="container-fluid mb-4">
        <div class="row">
          <div class="col-2">
            <a href="#"><img src="./assets/imgs/profilo/fra_napoli.png" alt="friend's image"
                class="circle img-fluid" /></a>
          </div>
          <div class="col-7 text-truncate">
            <a href="#">
              <p class="m-0 fw-bold fw-bolder">Fra Napoli</p>
            </a>
            <p class="m-0">
              <a href=""><span>Zombie</span></a>
              <i class="bi bi-dot"></i>
              <a href=""><span>Cranberries</span></a>
            </p>
            <p class="m-0 fs-6 text-nowrap">
              <a href="">
                <i class="bi bi-disc"></i>
                <span>No Need To Argue (The Complete Sessions 1994-1995)</span></a>
            </p>
          </div>
          <div class="col-3">
            <p class="m-0 fs-6 text-secondary">2 min</p>
          </div>
        </div>
      </div>

      <div class="container-fluid mb-4">
        <div class="row">
          <div class="col-2">
            <a href="#"><img src="./assets/imgs/profilo/ste.png" alt="friend's image" class="circle img-fluid" /></a>
          </div>
          <div class="col-7 text-truncate">
            <a href="#">
              <p class="m-0 fw-bold fw-bolder">Stefano D'Antoni</p>
            </a>
            <p class="m-0">
              <a href=""><span>Zombie</span></a>
              <i class="bi bi-dot"></i>
              <a href=""><span>Cranberries</span></a>
            </p>
            <p class="m-0 fs-6 text-nowrap">
              <a href="">
                <i class="bi bi-disc"></i>
                <span>No Need To Argue (The Complete Sessions 1994-1995)</span></a>
            </p>
          </div>
          <div class="col-3">
            <p class="m-0 fs-6 text-secondary">2 min</p>
          </div>
        </div>
      </div>

      <div class="container-fluid mb-4">
        <div class="row">
          <div class="col-2">
            <a href="#"><img src="./assets/imgs/profilo/tia.png" alt="friend's image" class="circle img-fluid" /></a>
          </div>
          <div class="col-7 text-truncate">
            <a href="#">
              <p class="m-0 fw-bold fw-bolder">Mattia Lugaro</p>
            </a>
            <p class="m-0">
              <a href=""><span>Zombie</span></a>
              <i class="bi bi-dot"></i>
              <a href=""><span>Cranberries</span></a>
            </p>
            <p class="m-0 fs-6 text-nowrap">
              <a href="">
                <i class="bi bi-disc"></i>
                <span>No Need To Argue (The Complete Sessions 1994-1995)</span></a>
            </p>
          </div>
          <div class="col-3">
            <p class="m-0 fs-6 text-secondary">2 min</p>
          </div>
        </div>
      </div>
    </div>
  </div>
  -->
    <!-- fine offcanvas -->

    <!-- sezioni in fondo alla pagina -->
    <!--
  <div class="fixed-bottom container-fluid">
  -->

    <!-- navbar player - gruppo SX -->
    <!--
    <div class="container-fluid d-none d-md-block bg-black text-secondary" id="player">
      <div class="row py-3 fs-5 align-items-center">
        <div class="col-4 d-flex align-items-center justify-content-start text-start">
          <img src="./assets/imgs/main/image-12.jpg" alt="" style="height: 40px" />
          <div class="fs-6 px-3">
            <a href="#">
              <p class="my-0 fw-bold text-white">Fat Funny Friend</p>
            </a>
            <a href="#">
              <p class="my-0">Maddie Zahm</p>
            </a>
          </div>
          <button type="button" class="btn text-secondary p-0">
            <i class="bi bi-heart"></i>
          </button>
        </div>
        -->

    <!-- navbar player - gruppo CENTER -->
    <!-- 
        <div class="col-4 text-center px-0 d-flex flex-column justify-content-center align-items-center">
          <div class="col-4 text-center px-0 d-flex justify-content-center align-items-center">
            <button type="button" class="btn text-secondary p-0">
              <i class="bi bi-shuffle fs-4 me-2"></i>
            </button>
            <button type="button" class="btn text-secondary p-0">
              <i class="bi bi-skip-start-fill fs-4 me-2"></i>
            </button>
            <button id="playButton" type="button" class="btn text-secondary p-0">
              <i class="bi bi-play-circle-fill fs-1 me-2 text-white"></i>
            </button>
            <button type="button" class="btn text-secondary p-0">
              <i class="bi bi-skip-end-fill fs-4 me-2"></i>
            </button>
            <button type="button" class="btn text-secondary p-0">
              <i class="bi bi-repeat fs-4"></i>
            </button>
          </div>
          <div class="w-100">
            <span class="fs-8">00:02</span>
            <input id="progressBar" type="range" class="w-50" min="0" max="100" />
            <span class="fs-8">03:42</span>
          </div>
        </div>
        -->

    <!-- navbar player - gruppo DX -->
    <!--
        <div class="col-4 text-end px-0 volume-slider-container">
          <button type="button" class="btn text-secondary p-0">
            <i class="bi bi-text-right"></i>
          </button>
          <button type="button" class="btn text-secondary p-0">
            <i class="bi bi-list me-2"></i>
          </button>
          <button type="button" class="btn text-secondary p-0">
            <i class="bi bi-speaker me-2"></i>
          </button>
          <button type="button" class="btn text-secondary p-0">
            <i class="bi bi-volume-up"></i>
          </button>
          <input type="range" class="volume-slider" min="0" max="100" />
          <button type="button" class="btn text-secondary p-0">
            <i class="bi bi-arrows-angle-expand"></i>
          </button>
        </div>
      </div>
    </div>
    -->

    <!-- navbar player schermi piccoli --->
    <!--
    <div class="d-md-none row bg-secondary py-4 fs-8 rounded-3 d-flex justify-content-between">
      <div class="col-4 d-flex align-items-center justify-content-start text-start">
        <img src="./assets/imgs/main/image-12.jpg" alt="" style="height: 40px" />
        <div class="fs-6 px-3">
          <a href="#">
            <p class="my-0 fw-bold text-white">Fat Funny Friend</p>
          </a>
          <a href="#">
            <p class="my-0">Maddie Zahm</p>
          </a>
        </div>
        <button type="button" class="btn text-secondary p-0">
          <i class="bi bi-heart"></i>
        </button>
      </div>

      <button id="playButtonMini" type="button" class="btn text-secondary p-0">
        <i class="bi bi-play-circle-fill fs-1 me-2 text-white"></i>
      </button>
    </div>
    -->
    <!-- navbar bottom per schermi piccoli -->
    <!--
    <div class="d-md-none row bg-black py-4 fs-8">
      <div class="col-4">
        <a class="d-flex flex-column align-items-center" href="./index.html">
          <i class="bi bi-house-door fs-3"> </i>Home</a>
      </div>
      <div class="col-4">
        <a class="d-flex flex-column align-items-center" href="#"><i class="bi bi-search fs-3"></i>Cerca</a>
      </div>
      <div class="col-4">
        <a class="d-flex flex-column align-items-center" href="#"><i class="bi bi-collection fs-3"></i>La tua
          libreria</a>
      </div>
    </div>
  </div>
  -->

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
      crossorigin="anonymous"
    ></script>
    <!-- <script>
      //js per barra volume
      document.addEventListener("DOMContentLoaded", function () {
        const volumeSlider = document.querySelector(".volume-slider");
        const progressBar = document.querySelector("#progressBar");

        volumeSlider.addEventListener("input", function () {
          const volumePercentage = ((this.value - this.min) / (this.max - this.min)) * 100;
          this.style.setProperty("--volume-percentage", `${volumePercentage}%`);
        });

        progressBar.addEventListener("input", function () {
          const volumePercentage = ((this.value - this.min) / (this.max - this.min)) * 100;
          this.style.setProperty("--volume-percentage", `${volumePercentage}%`);
        });
      });
    </script> -->
    <script src="js/token.js"></script>
    <script>
      function loadAlbumDetails() {
        const urlParams = new URLSearchParams(window.location.search);
        const albumId = urlParams.get("albumId");

        if (!albumId) {
          console.error("ID dell'album mancante");
          return;
        }

        const url = `https://deezerdevs-deezer.p.rapidapi.com/album/${albumId}`;
        const options = {
          method: "GET",
          headers: {
            "X-RapidAPI-Key": token,
            "X-RapidAPI-Host": "deezerdevs-deezer.p.rapidapi.com",
          },
        };

        fetch(url, options)
          .then((response) => {
            if (!response.ok) {
              throw new Error("Errore nella risposta della rete");
            }
            return response.json();
          })
          .then((albumDetails) => {
            document.getElementById("albumTitle").textContent = albumDetails.title;
            document.getElementById("albumCover").src = albumDetails.cover_xl;
            document.getElementById("artistPicture").src = albumDetails.artist.picture;
            document.getElementById("artistPicture").alt = albumDetails.artist.name;
            document.getElementById("artistName").textContent = albumDetails.artist.name;
            document.getElementById("artistName").href = `${albumDetails.artist.id}`; //poi devo cambiare per portare ad artista
            document.getElementById("year").textContent = new Date(albumDetails.release_date).getFullYear();
            document.getElementById("numOfSongs").textContent = `${albumDetails.tracks.data.length} brani - `;
            document.getElementById("durationOfTrackList").textContent = formatAlbumDuration(albumDetails.tracks.data);

            const tracksHtml = albumDetails.tracks.data
              .map(
                //trovato map / join per elaborare lista di oggetti, ogni traccia viene trasformata in questo caso in un div e join dopo unisce tutti gli elementi si sarebbe potuto fare tranquillamente con forEach
                (track, index) => `
                                <div class="row mt-4 track-row">
                                  <div class="col-1 d-none d-sm-block">
                                    <div class="d-flex align-items-center track-index">
                                      <p class="text-white ms-3 mt-3 mb-0 index-number">${index + 1}</p>
                                      <button class="btn play-button mt-1 fs-5 text-white"><i class="bi bi-play-fill"></i></button>
                                    </div>
                                  </div>
                                  <div class="col-11 col-sm-4 ps-0">
                                    <div>
                                      <p class="text-white mb-0 ps-4 ps-sm-0">${track.title}</p>
                                      <p class="text-white mb-0 ps-4 ps-sm-0">${track.artist.name}</p>
                                    </div>
                                  </div>
                                  <div class="col-1 d-sm-none">
                                    <div class="d-flex justify-content-end align-items-center">
                                      <i class="bi bi-three-dots-vertical text-secondary pe-1 mt-2" style="font-size: 20px"></i>
                                    </div>
                                  </div>
                                  <div class="col-3 d-none d-sm-block">
                                    <div class="d-flex justify-content-end align-items-center">
                                      <p class="text-white text-end pe-2 mb-0 mt-3">${track.rank}</p>
                                    </div>
                                  </div>
                                  <div class="col-4 d-none d-sm-block">
                                    <div class="d-flex justify-content-end align-items-center">
                                      <p class="text-white text-end me-3 mb-0 mt-3">${formatTrackDuration(
                                        track.duration
                                      )}</p>
                                    </div>
                                  </div>
                                </div>
      `
              )
              .join("");

            document.getElementById("tracksContainer").innerHTML = tracksHtml;
          })
          .catch((error) => {
            console.error("Errore durante la fetch:", error);
          });
      }
      function formatAlbumDuration(tracks) {
        const totalSeconds = tracks.reduce((acc, track) => acc + track.duration, 0);
        const hours = Math.floor(totalSeconds / 3600);
        const minutes = Math.floor((totalSeconds % 3600) / 60);
        const seconds = totalSeconds % 60;
        return `${hours ? `${hours} h ` : ""}${minutes} min ${seconds} sec`;
      }

      function formatTrackDuration(durationInSeconds) {
        const minutes = Math.floor(durationInSeconds / 60);
        const seconds = durationInSeconds % 60;
        return `${minutes}:${seconds < 10 ? "0" : ""}${seconds}`;
      }

      loadAlbumDetails();
    </script>
  </body>
</html>
